## Sentinel

### 线程隔离

- 线程池
  - 支持主动超时、支持异步调用
  - 线程开销大
  - 支持低扇出
- 信号量（默认实现）
  - 轻量级，开销小
  - 无主动超时和异步调用
  - 高频调用、高扇出

### 熔断降级

- 断路器
  - closed：服务正常调用，统计服务异常比例，达到阈值则熔断，进入open状态
  - open：熔断状态，禁止目标服务调用，熔断持续一段时间后进入half-open状态
  - half-open：尝试请求服务，如果能正常访问则恢复到closed状态
- 熔断策略
  - 慢调用：响应时间慢，一点数量的请求慢则熔断，可以设置响应时间阈值
  - 异常比例：在一定请求中抛异常的请求数量超过一定比例则熔断
  - 异常数：异常请求达到设置的异常数则熔断

### 授权规则

- 通过过滤器给请求添加一个特殊标识的头信息，携带这个信息的请求才可以正常访问



